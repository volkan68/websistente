<!DOCTYPE html>
<html lang="es" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>MongoDB es fácil - Websistente</title>
  <meta name="description" content="MongoDB es una base de datos NoSQL orientada a documentos que son guardados en una estructura JSON dinámica que es denominada BSON (Binary JSON). Debido a que JSON es un formato de datos familiar para los programodores JavaScript, es que muchos desarrolladores node.js usan esta base de datos para sus proyectos. Otra gran ventaja de MongoDB es que es un proyecto Open Source y por lo tanto es posible de ser necesario modificar el códio."><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Websistente",
    
    "url": "http:\/\/websistente.com\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "http:\/\/websistente.com\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "http:\/\/websistente.com\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "http:\/\/websistente.com\/posts\/2013-10-31-mongodb-es-facil\/",
          "name": "Mongo db es fácil"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "volkan68"
  },
  "headline": "MongoDB es fácil",
  "description" : "MongoDB es una base de datos NoSQL orientada a documentos que son guardados en una estructura JSON dinámica que es denominada BSON (Binary JSON). Debido a que JSON es un formato de datos familiar para los programodores JavaScript, es que muchos desarrolladores node.js usan esta base de datos para sus proyectos. Otra gran ventaja de MongoDB es que es un proyecto Open Source y por lo tanto es posible de ser necesario modificar el códio.",
  "inLanguage" : "es",
  "wordCount":  944 ,
  "datePublished" : "2013-10-31T10:42:01",
  "dateModified" : "2013-10-31T10:42:01",
  "image" : "http:\/\/websistente.com\/",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "http:\/\/websistente.com\/posts\/2013-10-31-mongodb-es-facil\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "http:\/\/websistente.com\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "http:\/\/websistente.com\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="MongoDB es fácil" />
<meta property="og:description" content="MongoDB es una base de datos NoSQL orientada a documentos que son guardados en una estructura JSON dinámica que es denominada BSON (Binary JSON). Debido a que JSON es un formato de datos familiar para los programodores JavaScript, es que muchos desarrolladores node.js usan esta base de datos para sus proyectos. Otra gran ventaja de MongoDB es que es un proyecto Open Source y por lo tanto es posible de ser necesario modificar el códio.">
<meta property="og:url" content="http://websistente.com/posts/2013-10-31-mongodb-es-facil/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Websistente" />

  <meta name="twitter:title" content="MongoDB es fácil" />
  <meta name="twitter:description" content="MongoDB es una base de datos NoSQL orientada a documentos que son guardados en una estructura JSON dinámica que es denominada BSON (Binary JSON). Debido a que JSON es un formato de datos familiar para …">
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.92.1" />
  <link rel="alternate" href="http://websistente.com/index.xml" type="application/rss+xml" title="Websistente"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="http://websistente.com/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="http://websistente.com/css/syntax.css" /><link rel="stylesheet" href="http://websistente.com/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Conmuta navegación</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://websistente.com/">Websistente</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Blog" href="/">Blog</a>
            </li>
          
        
          
            <li>
              <a title="Podcast" href="/podcast">Podcast</a>
            </li>
          
        
          
            <li>
              <a title="Autor" href="/volkan-rivera">Autor</a>
            </li>
          
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>MongoDB es fácil</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <p>MongoDB es una base de datos <a href="http://es.wikipedia.org/wiki/NoSQL">NoSQL</a> orientada a documentos que son guardados en una estructura JSON dinámica que es denominada <a href="http://bsonspec.org/">BSON</a> (Binary JSON). Debido a que JSON es un formato de datos familiar para los programodores JavaScript, es que muchos desarrolladores node.js usan esta base de datos para sus proyectos. Otra gran ventaja de MongoDB es que es un proyecto Open Source y por lo tanto es posible de ser necesario modificar el códio. El nombre MongoDB proviene de la palabra inglesa &ldquo;humongous&rdquo; (que significa enorme) y justamente este sistema de base de datos está diseñado para ser enorme permitiendo escalar horizontalmente la base de datos, es decir podemos agregar &ldquo;X&rdquo; número de nodos a nuestra base de datos expandiendo de forma casi ilimitada la capacidad de almacenamiento de la misma.</p>
<p>En este breve tutorial explicaremos como instalar MongoDB en un servidor Ubuntu 12.04, aunque los pasos de la instalación son los mismos para Debian los comandos para administrar el daemon del MongoDB son diferentes y a menos que indique lo contrario este tutorial debe ser usado para intalar, configurar y administrar MongoDB en un servidor Ubuntu 12.04.</p>
<p><span style="line-height: 1.6em;">Primero debemos actualizar nuestros respositorios para estar seguros de que tenemos la versión más reciente de los paquetes disponibles en el repositorio:</span></p>
<pre tabindex="0"><code>&lt;pre id=&quot;terminal&quot;&gt;
sudo apt-get update
</code></pre><p>Luego agregaremos el repositorio de donde podemos obtener los paquetes (.deb) oficiales de MongoDB:</p>
<pre tabindex="0"><code>&lt;pre id=&quot;terminal&quot;&gt;
# Agregamos la clave pública PGP del repositorio de MongoDB
sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 7F0CEB10

# Creamos un archivo que contenga el repositorio oficial
echo 'deb http://downloads-distro.mongodb.org/repo/ubuntu-upstart dist 10gen' | sudo tee /etc/apt/sources.list.d/mongodb.list

# Actualizamos nuevamente nuestra lista de repositorios
sudo apt-get update
</code></pre><p>Finalmente ya estamos listos para intalar MongoDB con un simple apt-get:</p>
<pre tabindex="0"><code>&lt;pre id=&quot;terminal&quot;&gt;
sudo apt-get install mongodb-10gen
</code></pre><p>Ahora podemos configuremos nuestro MongoDB si lo deseamos, para ello debemos editar el archivo <strong><span style="font-family:courier new,courier,monospace;">/etc/mongodb.conf</span></strong>. En nuestro caso usaremos la configuración por defecto ya que sólo deseamos hacer unas pruebas simples, pero es posible configurar sistemas con replicación y varios esclavos que permiten escalar el sistema horizontalmente.</p>
<p>Para verificar que nuestro servicio de MongoDB está corriendo debemos ejecutar este comando y obtener un resultado similar:</p>
<pre tabindex="0"><code>&lt;pre id=&quot;terminal&quot;&gt;
netstat -nap | grep 27017
tcp        0      0 0.0.0.0:27017           0.0.0.0:*               LISTEN      2613/mongod     
unix  2      [ ACC ]     STREAM     LISTENING     133233390 2613/mongod         /tmp/mongodb-27017.sock
</code></pre><p>En caso de que no esté corriendo verifique la configuración e intente reiniciarlo con este comando:</p>
<pre tabindex="0"><code>&lt;pre id=&quot;terminal&quot;&gt;
sudo service mongodb start
</code></pre><p>Los comandos para admnistrar nuestro MongoDB son estos:</p>
<pre tabindex="0"><code>&lt;pre id=&quot;terminal&quot;&gt;
# Para iniciar el servicio MongoDB:
sudo service mongodb start

# Para detener el servicio MongoDB:
sudo service mongodb stop

# Para reiniciar el sercicio MongoDB:
sudo service mongodb restart
</code></pre><p>Ahora hagamos unas pequeñas pruebas para verificar que está funcionando correctamente, para ello usaremos el cliente &ldquo;mongo&rdquo;, y lo primero que veremos será algo equivalente a esto:</p>
<p><strong><span style="font-family:courier new,courier,monospace;">$ mongo<br>
MongoDB shell version: 2.4.7<br>
connecting to: test<br>
Server has startup warnings:<br>
Thu Oct 31 17:54:23.900 [initandlisten]<br>
Thu Oct 31 17:54:23.900 [initandlisten]<br>
Thu Oct 31 17:54:23.900 [initandlisten]<br>
&gt;</span></strong></p>
<p>Ahora, lo primero que debemos hacer es crear nuestra DB, lo cual es tan sencillo como elegir un nombre (en nuestro caso &ldquo;<span style="color:#FF0000;"><span style="font-family:courier new,courier,monospace;"><strong>nuevadb</strong></span></span>&quot;) y comenzar a agregar registros (ojo, no es obligatorio que todos los registros deban tener la misma estructura), empecemos añadiendo estos registros:</p>
<p><span style="font-family:courier new,courier,monospace;"><strong>&gt; db.<span style="color:#FF0000;">nuevadb</span>.save( { city: &ldquo;Lima&rdquo;, pop: &ldquo;8000000&rdquo; } )<br>
&gt; db.<span style="color:#FF0000;">nuevadb</span>.save( { city: &ldquo;Chiclayo&rdquo;, pop: &ldquo;1000000&rdquo; } )<br>
&gt; db.<span style="color:#FF0000;">nuevadb</span>.save( { city: &ldquo;Trujillo&rdquo;, pop: &ldquo;1200000&rdquo; } )<br>
&gt; db.<span style="color:#FF0000;">nuevadb</span>.save( { city: &ldquo;Piura&rdquo;, pop: &ldquo;1100000&rdquo; } )</strong></span></p>
<p>No pretendo que esos sean los valores reales, pero nos servirá para tener una estrutura sencilla tabular sobre la cual corres queries sencillas, la primera de todas es obtener un listado total para lo cual usaremos este comando:</p>
<p><strong><span style="font-family:courier new,courier,monospace;">&gt; db.nuevadb.find()<br>
{ &ldquo;_id&rdquo; : ObjectId(&ldquo;5272659986090431f21bc2bd&rdquo;), &ldquo;city&rdquo; : &ldquo;Lima&rdquo;, &ldquo;pop&rdquo; : &ldquo;8000000&rdquo; }<br>
{ &ldquo;_id&rdquo; : ObjectId(&ldquo;527265a386090431f21bc2be&rdquo;), &ldquo;city&rdquo; : &ldquo;Chiclayo&rdquo;, &ldquo;pop&rdquo; : &ldquo;1000000&rdquo; }<br>
{ &ldquo;_id&rdquo; : ObjectId(&ldquo;527265ad86090431f21bc2bf&rdquo;), &ldquo;city&rdquo; : &ldquo;Trujillo&rdquo;, &ldquo;pop&rdquo; : &ldquo;1200000&rdquo; }<br>
{ &ldquo;_id&rdquo; : ObjectId(&ldquo;527265b786090431f21bc2c0&rdquo;), &ldquo;city&rdquo; : &ldquo;Piura&rdquo;, &ldquo;pop&rdquo; : &ldquo;1100000&rdquo; }</span></strong></p>
<p>Observe como MongoDB le agrega un índice a todos los registros que hemos agregado, ya que en el fondo todos esos registros son documentos de formato libre, aunque en nuestro caso por simplicidad, mi cerebro ha estado acostumbrado durante casi 25 años a pensar en términos de tablas,asi que lo hemos organizado así. Pero tenga en mente que el formato de cada entrada de la DB es libre.</p>
<p>Ahora hagamos simples queries, despues de todo nuestros programas siempre haran una búsqueda sobre el total de los datos almacenados para proveer un reporte resumido que es justamente lo que nuestro usuario necesita, nuestra primera query busca todas los registros cuyo campo &ldquo;pop&rdquo; (population) es mayor a 1200000 y es justamente lo que nos muetra el resultado:</p>
<p><span style="font-family:courier new,courier,monospace;"><strong>&gt; db.nuevadb.find( { pop: { $gt: &ldquo;1200000&rdquo; } } )<br>
{ &ldquo;_id&rdquo; : ObjectId(&ldquo;5272659986090431f21bc2bd&rdquo;), &ldquo;city&rdquo; : &ldquo;Lima&rdquo;, &ldquo;pop&rdquo; : &ldquo;8000000&rdquo; }</strong></span></p>
<p>Ahora busquemos aquellas ciudades con poblaciones menores a 1200000:</p>
<p><strong><span style="font-family:courier new,courier,monospace;">&gt; db.nuevadb.find( { pop: { $lt: &ldquo;1200000&rdquo; } } )<br>
{ &ldquo;_id&rdquo; : ObjectId(&ldquo;527265a386090431f21bc2be&rdquo;), &ldquo;city&rdquo; : &ldquo;Chiclayo&rdquo;, &ldquo;pop&rdquo; : &ldquo;1000000&rdquo; }<br>
{ &ldquo;_id&rdquo; : ObjectId(&ldquo;527265b786090431f21bc2c0&rdquo;), &ldquo;city&rdquo; : &ldquo;Piura&rdquo;, &ldquo;pop&rdquo; : &ldquo;1100000&rdquo; }</span></strong></p>
<p>Finalmente busquemos todas las ciudades cuyo campo &ldquo;city&rdquo; sea igual a &ldquo;Chiclayo&rdquo;:</p>
<p><span style="font-family:courier new,courier,monospace;"><strong>&gt; db.nuevadb.find( { city: &ldquo;Chiclayo&rdquo; } )<br>
{ &ldquo;_id&rdquo; : ObjectId(&ldquo;527265a386090431f21bc2be&rdquo;), &ldquo;city&rdquo; : &ldquo;Chiclayo&rdquo;, &ldquo;pop&rdquo; : &ldquo;1000000&rdquo; }</strong></span></p>
<p>Para salir del cliente &ldquo;mongo&rdquo; sencillamente tipeamos &ldquo;exit&rdquo;:</p>
<p><span style="font-family:courier new,courier,monospace;"><strong>&gt; exit<br>
bye</strong></span></p>
<p>Espero que este tutorial les haya sido de utilidad, recuerden que la información divulgada aquí es un resumen de lo mínimo necesario para poder empezar a usar MongoDB, el tema es amplio y una vez teniendo el sistema mínimo operando les recomiendo remitirse a la <a href="http://docs.mongodb.org/manual/">documentación oficial del proyecto MongoDB</a>.</p>


        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="http://websistente.com/posts/2013-10-30-como-usar-node-js-en-produccion/" data-toggle="tooltip" data-placement="top" title="Cómo usar node.js en producción">&larr; Artículo anterior</a>
            </li>
          
          
            <li class="next">
              <a href="http://websistente.com/posts/2013-11-01-usando-mysql-con-node-js/" data-toggle="tooltip" data-placement="top" title="Usando MySQL con node.js">Artículo siguiente &rarr;</a>
            </li>
          
        </ul>
      


      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&bull;&nbsp;&copy;
          
            2014
          

          
            &nbsp;&bull;&nbsp;
            <a href="http://websistente.com/">Websistente</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="https://gohugo.io">Hugo v0.92.1</a> alimentada &nbsp;&bull;&nbsp; Tema <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adaptado de <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="http://websistente.com/js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="http://websistente.com/js/load-photoswipe.js"></script>









    
  </body>
</html>

